{% extends 'object_finder/base.html' %}

{% block content %}
<!-- Main profile container -->
<div class="container mt-5">
  <h2>User Profile</h2>
  <!-- User info card -->
  <div class="card">
    <div class="card-body">
      <h5 class="card-title">{{ user.username }}
      <!-- Show top contributor badge if user has 5+ posts -->
      {% if user_posts|length >= 5 %}
         - <span class="badge top-contributor-badge">Top Contributor</span>
      {% endif %}
      </h5>
      <!-- User contact and personal info -->
      {% if user.email %}
        <p class="card-text"><strong>Email:</strong> {{ user.email }}</p>
      {% endif %}
      {% if user.first_name %}
        <p class="card-text"><strong>First Name:</strong> {{ user.first_name }}</p>
      {% endif %}
      {% if user.last_name %}
        <p class="card-text"><strong>Last Name:</strong> {{ user.last_name }}</p>
      {% endif %}
    </div>
  </div>
  <br>
  <!-- User's posts section -->
  <h2>User Posts</h2>
  <hr>
  <ul class="list-group">
    {% for post in user_posts %}
      <li class="list-group-item">
        <a href="{% url 'view_post' post_id=post.id %}">{{ post.title }}</a>
      </li>
    {% empty %}
      <li class="list-group-item">This user has not posted anything yet.</li>
    {% endfor %}
  </ul>
</div>

<!-- Styles for top contributor badge -->
<style>
  .top-contributor-badge {
    background-color: #FFD700; /* Gold color */
    color: #000;
  }
</style>
{% endblock content %}
